<div id="accordion">

  <div class="row">

    <div class="col-md-6">
      <form (ngSubmit)="f.form.valid && onFormSubmit()" #f="ngForm" novalidate>
        <br>
        <button type="button" class="btn btn-info btn-sm" (click)="toggle()">Add driver</button>

        <div *ngIf="show_addupdatedriver">
          <br>
          <br>

          <div class="row" hidden="true">
            <div class="form-group input-group input-group-sm col-md-4">
              <div class="input-group-prepend">
                <span class="input-group-text">DriverKey</span>
              </div>
              <input type="text" class="form-control form-control-sm" required [(ngModel)]="driverModel.DriverKey"
                id="DriverKey" name="DriverKey">
            </div>

            <div class="form-group input-group input-group-sm col-md-6">
              <div class="input-group-prepend">
                <span class="input-group-text">Address Key</span>
              </div>
              <input type="text" class="form-control form-control-sm" [(ngModel)]="driverModel.Address.AddrKey"
                name="AddrKey">
            </div>
          </div>
          <div class="row">
            <div class="form-group input-group input-group-sm col-md-6">
              <div class="input-group-prepend">
                <span class="input-group-text">Driver Id</span>
              </div>
              <input type="text" class="form-control form-control-sm" required [(ngModel)]="driverModel.DriverId"
                #DriverId="ngModel" name="DriverId" [ngClass]="{ 'is-invalid': f.submitted && DriverId.invalid }"
                required>
              <div *ngIf="f.submitted && DriverId.invalid" class="invalid-feedback">
                <div *ngIf="DriverId.errors.required"> DriverId is required</div>
              </div>
            </div>
            <div class="form-group input-group input-group-sm col-md-6">
              <div class="input-group-prepend">
                <span class="input-group-text">Address 1</span>
              </div>
              <input type="text" class="form-control form-control-sm" required
                [(ngModel)]="driverModel.Address.Address1" name="Address1" #Address1="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && Address1.invalid }">

              <div *ngIf="f.submitted && Address1.invalid" class="invalid-feedback">
                <div *ngIf="Address1.errors.required"> Address1 is required</div>
              </div>
            </div>

          </div>
          <div class="row">
            <div class="form-group input-group input-group-sm col-md-6">
              <div class="input-group-prepend">
                <span class="input-group-text">First Name</span>
              </div>
              <input type="text" class="form-control form-control-sm" required [(ngModel)]="driverModel.FirstName"
                id="FirstName" name="FirstName" #FirstName="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && FirstName.invalid }">
              <div *ngIf="f.submitted && FirstName.invalid" class="invalid-feedback">
                <div *ngIf="FirstName.errors.required"> FirstName is required</div>
              </div>
            </div>
            <div class="form-group input-group input-group-sm col-md-6">
              <div class="input-group-prepend">
                <span class="input-group-text">Address 2</span>
              </div>
              <input type="text" class="form-control form-control-sm" required
                [(ngModel)]="driverModel.Address.Address2" name="Address2">
            </div>
          </div>
          <div class="row">
            <div class="form-group input-group input-group-sm col-md-6">
              <div class="input-group-prepend">
                <span class="input-group-text">Last Name</span>
              </div>
              <input type="text" class="form-control form-control-sm" required [(ngModel)]="driverModel.LastName"
                name="LastName">
              <div *ngIf="f.submitted && FirstName.invalid" class="invalid-feedback">
                <div *ngIf="FirstName.errors.required"> FirstName is required</div>
              </div>
            </div>
            <div class="form-group input-group input-group-sm col-md-6">
              <div class="input-group-prepend">
                <span class="input-group-text">City</span>
              </div>
              <input type="text" class="form-control form-control-sm" required [(ngModel)]="driverModel.Address.City"
                name="City" #City="ngModel" [ngClass]="{ 'is-invalid': f.submitted && City.invalid }">
              <div *ngIf="f.submitted && City.invalid" class="invalid-feedback">
                <div *ngIf="City.errors.required"> City is required</div>
              </div>
            </div>


          </div>
          <div class="row">
            <div class="form-group input-group input-group-sm col-md-6">
              <div class="input-group-prepend">
                <span class="input-group-text">License No</span>
              </div>
              <input type="text" class="form-control form-control-sm" required
                [(ngModel)]="driverModel.DriversLicenseNo" name="DriversLicenseNo">
              <div *ngIf="f.submitted && FirstName.invalid" class="invalid-feedback">
                <div *ngIf="FirstName.errors.required"> FirstName is required</div>
              </div>
            </div>

            <div class="form-row col-md-6">
              <div class="form-group input-group input-group-sm col-md-6">
                <div class="input-group-prepend">
                  <span class="input-group-text">State</span>
                </div>
                <input type="text" class="form-control form-control-sm" required [(ngModel)]="driverModel.Address.State"
                  name="State" #State="ngModel" [ngClass]="{ 'is-invalid': f.submitted && State.invalid }">
                <div *ngIf="f.submitted && State.invalid" class="invalid-feedback">
                  <div *ngIf="State.errors.required"> State is required</div>
                </div>
              </div>
              <div class="form-group input-group input-group-sm col-md-6">
                <div class="input-group-prepend">
                  <span class="input-group-text">Zip</span>
                </div>
                <input type="text" class="form-control form-control-sm" required [(ngModel)]="driverModel.Address.Zip"
                  name="Zip" (keypress)="numberOnly($event)" appBlockCopyPaste #Zip="ngModel"
                  [ngClass]="{ 'is-invalid': f.submitted && Zip.invalid }">
                <div *ngIf="f.submitted && Zip.invalid" class="invalid-feedback">
                  <div *ngIf="Zip.errors.required"> Zip is required</div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="form-group input-group input-group-sm col-md-4">
              <div class="input-group-prepend">
                <span class="input-group-text">Expiry Date</span>
              </div>
              <input type="text" class="form-control form-control-sm" [owlDateTimeTrigger]="dtactualdeparture"
                [owlDateTime]="dtactualdeparture" required [(ngModel)]="driverModel.LicenseExpiryDate"
                name="LicenseExpiryDate">

              <owl-date-time [pickerType]="'calendar'" #dtactualdeparture [hour12Timer]="false"></owl-date-time>
            </div>
          </div>
          <div class="row">
            <!-- <div class="form-group input-group input-group-sm col-md-4">
              <div class="input-group-prepend">
                <span class="input-group-text">Carrier</span>
              </div>
              <select id="drpCarrier" class="form-control form-control-sm" name="CarrierKey"
                [(ngModel)]="driverModel.CarrierKey" required>
                <option [value]="carrier.CarrierKey" *ngFor="let carrier of carrierlist">{{carrier.CarrierId}}
                </option>
              </select>
            </div> 
             <div class="form-group input-group input-group-sm col-md-8">
              <div class="input-group-prepend">
                <span class="input-group-text">VendorKey</span>
              </div>
              <input type="text" class="form-control form-control-sm" required [(ngModel)]="driverModel.VendorKey"
                name="VendorKey">
            </div> -->
          </div>

          <div class="form-group  row">
            <div class="form-group col-md-8">
              <p *ngIf="dataSaved" style="color:green;font-size:15px;font-weight:normal" align="left">
                {{message}}
              </p>
            </div>
            <div class=" col-md-1">
              <button type="reset" *ngIf="isCancelbtnhidden" class="btn btn-primary btn-sm"
                (click)="cancel()">Cancel</button>
            </div>
            <div class=" col-md-1">
              <button type="submit" class="btn btn-primary btn-sm">Submit</button>
            </div>
            <div class=" col-md-1">
              <button type="reset" *ngIf="isResetbtnhidden" class="btn btn-primary btn-sm"
                (click)="resetForm()">Reset</button>
            </div>
          </div>


        </div>
      </form>
    </div>
  </div>

  <div class="row">

    <div class="col-md-8">
      <br><br>
      <table class="table table-sm">
        <tr ngclass="btn-primary">
          <th hidden="true">Driverkey</th>
          <th>ID</th>
          <th>FirstName</th>
          <th>LastName</th>
          <th>LicenseNo</th>
          <th>LicenseExpiryDate</th>
        </tr>
        <tr *ngFor="let driv of drivers">
          <td hidden="true">{{driv.DriverKey}}</td>
          <td>{{driv.DriverId}}</td>
          <td>{{driv.FirstName}}</td>
          <td>{{driv.LastName}}</td>
          <td>{{driv.DriversLicenseNo}}</td>
          <td>{{driv.LicenseExpiryDate}}</td>

          <td class="tbl2">
            <button type="button" class="btn btn-info btn-sm" (click)="loadCustomerToEdit(driv.DriverKey)">Edit</button>
          </td>
          <!-- <td class="tbl2">
            <button type="button" class="btn btn-danger btn-sm"
              (click)="deleteCustomer(cust.CustomerKey)">Delete</button>
          </td> -->
        </tr>
      </table>
    </div>

  </div>
</div>