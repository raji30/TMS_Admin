{"version":3,"file":"angular-draggable-droppable.umd.js.map","sources":[null,"ng://angular-draggable-droppable/draggable-helper.provider.ts","ng://angular-draggable-droppable/draggable.directive.ts","ng://angular-draggable-droppable/droppable.directive.ts","ng://angular-draggable-droppable/drag-and-drop.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Subject } from 'rxjs';\n\nexport class DraggableHelper {\n  currentDrag: Subject<any> = new Subject();\n}\n","import {\n  Directive,\n  OnInit,\n  ElementRef,\n  Renderer2,\n  Output,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnChanges,\n  NgZone,\n  SimpleChanges\n} from '@angular/core';\nimport { Subject, Observable, merge } from 'rxjs';\nimport {\n  map,\n  mergeMap,\n  takeUntil,\n  take,\n  takeLast,\n  pairwise,\n  share,\n  filter\n} from 'rxjs/operators';\nimport { DraggableHelper } from './draggable-helper.provider';\n\nexport interface Coordinates {\n  x: number;\n  y: number;\n}\n\nexport interface DragAxis {\n  x: boolean;\n  y: boolean;\n}\n\nexport interface SnapGrid {\n  x?: number;\n  y?: number;\n}\n\nexport type ValidateDrag = (coordinates: Coordinates) => boolean;\n\nexport interface PointerEvent {\n  clientX: number;\n  clientY: number;\n  event: MouseEvent | TouchEvent;\n}\n\nconst MOVE_CURSOR: string = 'move';\n\n@Directive({\n  selector: '[mwlDraggable]'\n})\nexport class DraggableDirective implements OnInit, OnChanges, OnDestroy {\n  /**\n   * an object of data you can pass to the drop event\n   */\n  @Input() dropData: any;\n\n  /**\n   * The axis along which the element is draggable\n   */\n  @Input() dragAxis: DragAxis = { x: true, y: true };\n\n  /**\n   * Snap all drags to an x / y grid\n   */\n  @Input() dragSnapGrid: SnapGrid = {};\n\n  /**\n   * Show a ghost element that shows the drag when dragging\n   */\n  @Input() ghostDragEnabled: boolean = true;\n\n  /**\n   * Allow custom behaviour to control when the element is dragged\n   */\n  @Input() validateDrag: ValidateDrag;\n\n  /**\n   * The cursor to use when dragging the element\n   */\n  @Input() dragCursor = MOVE_CURSOR;\n\n  /**\n   * Called when the element can be dragged along one axis and has the mouse or pointer device pressed on it\n   */\n  @Output() dragPointerDown = new EventEmitter<Coordinates>();\n\n  /**\n   * Called when the element has started to be dragged.\n   * Only called after at least one mouse or touch move event\n   */\n  @Output() dragStart = new EventEmitter<Coordinates>();\n\n  /**\n   * Called when the element is being dragged\n   */\n  @Output() dragging = new EventEmitter<Coordinates>();\n\n  /**\n   * Called after the element is dragged\n   */\n  @Output() dragEnd = new EventEmitter<Coordinates>();\n\n  /**\n   * @hidden\n   */\n  pointerDown: Subject<PointerEvent> = new Subject();\n\n  /**\n   * @hidden\n   */\n  pointerMove: Subject<PointerEvent> = new Subject();\n\n  /**\n   * @hidden\n   */\n  pointerUp: Subject<PointerEvent> = new Subject();\n\n  private eventListenerSubscriptions: {\n    mousemove?: () => void;\n    mousedown?: () => void;\n    mouseup?: () => void;\n    mouseenter?: () => void;\n    mouseleave?: () => void;\n    touchstart?: () => void;\n    touchmove?: () => void;\n    touchend?: () => void;\n    touchcancel?: () => void;\n  } = {};\n\n  /**\n   * @hidden\n   */\n  constructor(\n    public element: ElementRef,\n    private renderer: Renderer2,\n    private draggableHelper: DraggableHelper,\n    private zone: NgZone\n  ) {}\n\n  ngOnInit(): void {\n    this.checkEventListeners();\n\n    const pointerDrag: Observable<any> = this.pointerDown\n      .pipe(filter(() => this.canDrag()))\n      .pipe(\n        mergeMap((pointerDownEvent: PointerEvent) => {\n          const currentDrag: Subject<any> = new Subject();\n\n          this.zone.run(() => {\n            this.dragPointerDown.next({ x: 0, y: 0 });\n          });\n\n          const pointerMove: Observable<Coordinates> = this.pointerMove\n            .pipe(\n              map((pointerMoveEvent: PointerEvent) => {\n                pointerMoveEvent.event.preventDefault();\n\n                return {\n                  currentDrag,\n                  x: pointerMoveEvent.clientX - pointerDownEvent.clientX,\n                  y: pointerMoveEvent.clientY - pointerDownEvent.clientY,\n                  clientX: pointerMoveEvent.clientX,\n                  clientY: pointerMoveEvent.clientY\n                };\n              })\n            )\n            .pipe(\n              map((moveData: Coordinates) => {\n                if (this.dragSnapGrid.x) {\n                  moveData.x =\n                    Math.floor(moveData.x / this.dragSnapGrid.x) *\n                    this.dragSnapGrid.x;\n                }\n\n                if (this.dragSnapGrid.y) {\n                  moveData.y =\n                    Math.floor(moveData.y / this.dragSnapGrid.y) *\n                    this.dragSnapGrid.y;\n                }\n\n                return moveData;\n              })\n            )\n            .pipe(\n              map((moveData: Coordinates) => {\n                if (!this.dragAxis.x) {\n                  moveData.x = 0;\n                }\n\n                if (!this.dragAxis.y) {\n                  moveData.y = 0;\n                }\n\n                return moveData;\n              })\n            )\n            .pipe(\n              filter(\n                ({ x, y }) => !this.validateDrag || this.validateDrag({ x, y })\n              )\n            )\n            .pipe(takeUntil(merge(this.pointerUp, this.pointerDown)))\n            .pipe(share());\n\n          pointerMove.pipe(take(1)).subscribe(() => {\n            pointerDownEvent.event.preventDefault();\n\n            this.zone.run(() => {\n              this.dragStart.next({ x: 0, y: 0 });\n            });\n\n            this.setCursor(this.dragCursor);\n\n            this.draggableHelper.currentDrag.next(currentDrag);\n          });\n\n          pointerMove.pipe(takeLast(1)).subscribe(({ x, y }) => {\n            this.zone.run(() => {\n              this.dragEnd.next({ x, y });\n            });\n            currentDrag.complete();\n            this.setCssTransform('');\n            if (this.ghostDragEnabled) {\n              this.renderer.setStyle(\n                this.element.nativeElement,\n                'pointerEvents',\n                ''\n              );\n            }\n          });\n\n          return pointerMove;\n        })\n      )\n      .pipe(share());\n\n    merge(\n      pointerDrag.pipe(take(1)).pipe(map(value => [, value])),\n      pointerDrag.pipe(pairwise())\n    )\n      .pipe(\n        filter(([previous, next]) => {\n          if (!previous) {\n            return true;\n          }\n          return previous.x !== next.x || previous.y !== next.y;\n        })\n      )\n      .pipe(map(([previous, next]) => next))\n      .subscribe(({ x, y, currentDrag, clientX, clientY }) => {\n        this.zone.run(() => {\n          this.dragging.next({ x, y });\n        });\n        if (this.ghostDragEnabled) {\n          this.renderer.setStyle(\n            this.element.nativeElement,\n            'pointerEvents',\n            'none'\n          );\n        }\n        this.setCssTransform(`translate(${x}px, ${y}px)`);\n        currentDrag.next({\n          clientX,\n          clientY,\n          dropData: this.dropData\n        });\n      });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['dragAxis']) {\n      this.checkEventListeners();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribeEventListeners();\n    this.pointerDown.complete();\n    this.pointerMove.complete();\n    this.pointerUp.complete();\n  }\n\n  private checkEventListeners(): void {\n    const canDrag: boolean = this.canDrag();\n    const hasEventListeners: boolean =\n      Object.keys(this.eventListenerSubscriptions).length > 0;\n\n    if (canDrag && !hasEventListeners) {\n      this.zone.runOutsideAngular(() => {\n        this.eventListenerSubscriptions.mousedown = this.renderer.listen(\n          this.element.nativeElement,\n          'mousedown',\n          (event: MouseEvent) => {\n            this.onMouseDown(event);\n          }\n        );\n\n        this.eventListenerSubscriptions.mouseup = this.renderer.listen(\n          'document',\n          'mouseup',\n          (event: MouseEvent) => {\n            this.onMouseUp(event);\n          }\n        );\n\n        this.eventListenerSubscriptions.touchstart = this.renderer.listen(\n          this.element.nativeElement,\n          'touchstart',\n          (event: TouchEvent) => {\n            this.onTouchStart(event);\n          }\n        );\n\n        this.eventListenerSubscriptions.touchend = this.renderer.listen(\n          'document',\n          'touchend',\n          (event: TouchEvent) => {\n            this.onTouchEnd(event);\n          }\n        );\n\n        this.eventListenerSubscriptions.touchcancel = this.renderer.listen(\n          'document',\n          'touchcancel',\n          (event: TouchEvent) => {\n            this.onTouchEnd(event);\n          }\n        );\n\n        this.eventListenerSubscriptions.mouseenter = this.renderer.listen(\n          this.element.nativeElement,\n          'mouseenter',\n          () => {\n            this.onMouseEnter();\n          }\n        );\n\n        this.eventListenerSubscriptions.mouseleave = this.renderer.listen(\n          this.element.nativeElement,\n          'mouseleave',\n          () => {\n            this.onMouseLeave();\n          }\n        );\n      });\n    } else if (!canDrag && hasEventListeners) {\n      this.unsubscribeEventListeners();\n    }\n  }\n\n  private onMouseDown(event: MouseEvent): void {\n    if (!this.eventListenerSubscriptions.mousemove) {\n      this.eventListenerSubscriptions.mousemove = this.renderer.listen(\n        'document',\n        'mousemove',\n        (mouseMoveEvent: MouseEvent) => {\n          this.pointerMove.next({\n            event: mouseMoveEvent,\n            clientX: mouseMoveEvent.clientX,\n            clientY: mouseMoveEvent.clientY\n          });\n        }\n      );\n    }\n    this.pointerDown.next({\n      event,\n      clientX: event.clientX,\n      clientY: event.clientY\n    });\n  }\n\n  private onMouseUp(event: MouseEvent): void {\n    if (this.eventListenerSubscriptions.mousemove) {\n      this.eventListenerSubscriptions.mousemove();\n      delete this.eventListenerSubscriptions.mousemove;\n    }\n    this.pointerUp.next({\n      event,\n      clientX: event.clientX,\n      clientY: event.clientY\n    });\n  }\n\n  private onTouchStart(event: TouchEvent): void {\n    if (!this.eventListenerSubscriptions.touchmove) {\n      this.eventListenerSubscriptions.touchmove = this.renderer.listen(\n        'document',\n        'touchmove',\n        (touchMoveEvent: TouchEvent) => {\n          this.pointerMove.next({\n            event: touchMoveEvent,\n            clientX: touchMoveEvent.targetTouches[0].clientX,\n            clientY: touchMoveEvent.targetTouches[0].clientY\n          });\n        }\n      );\n    }\n    this.pointerDown.next({\n      event,\n      clientX: event.touches[0].clientX,\n      clientY: event.touches[0].clientY\n    });\n  }\n\n  private onTouchEnd(event: TouchEvent): void {\n    if (this.eventListenerSubscriptions.touchmove) {\n      this.eventListenerSubscriptions.touchmove();\n      delete this.eventListenerSubscriptions.touchmove;\n    }\n    this.pointerUp.next({\n      event,\n      clientX: event.changedTouches[0].clientX,\n      clientY: event.changedTouches[0].clientY\n    });\n  }\n\n  private onMouseEnter(): void {\n    this.setCursor(this.dragCursor);\n  }\n\n  private onMouseLeave(): void {\n    this.setCursor('');\n  }\n\n  private setCssTransform(value: string): void {\n    if (this.ghostDragEnabled) {\n      const transformAttributes = [\n        'transform',\n        '-webkit-transform',\n        '-ms-transform',\n        '-moz-transform',\n        '-o-transform'\n      ];\n      transformAttributes.forEach(transformAttribute => {\n        this.renderer.setStyle(\n          this.element.nativeElement,\n          transformAttribute,\n          value\n        );\n      });\n    }\n  }\n\n  private canDrag(): boolean {\n    return this.dragAxis.x || this.dragAxis.y;\n  }\n\n  private setCursor(value: string): void {\n    this.renderer.setStyle(this.element.nativeElement, 'cursor', value);\n  }\n\n  private unsubscribeEventListeners(): void {\n    Object.keys(this.eventListenerSubscriptions).forEach(type => {\n      (this as any).eventListenerSubscriptions[type]();\n      delete (this as any).eventListenerSubscriptions[type];\n    });\n  }\n}\n","import {\n  Directive,\n  OnInit,\n  ElementRef,\n  OnDestroy,\n  Output,\n  EventEmitter,\n  NgZone\n} from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  pairwise,\n  filter,\n  map,\n  mergeMap\n} from 'rxjs/operators';\nimport { DraggableHelper } from './draggable-helper.provider';\n\nfunction isCoordinateWithinRectangle(\n  clientX: number,\n  clientY: number,\n  rect: ClientRect\n): boolean {\n  return (\n    clientX >= rect.left &&\n    clientX <= rect.right &&\n    clientY >= rect.top &&\n    clientY <= rect.bottom\n  );\n}\n\nexport interface DropData {\n  dropData: any;\n}\n\n@Directive({\n  selector: '[mwlDroppable]'\n})\nexport class DroppableDirective implements OnInit, OnDestroy {\n  /**\n   * Called when a draggable element starts overlapping the element\n   */\n  @Output() dragEnter = new EventEmitter<DropData>();\n\n  /**\n   * Called when a draggable element stops overlapping the element\n   */\n  @Output() dragLeave = new EventEmitter<DropData>();\n\n  /**\n   * Called when a draggable element is moved over the element\n   */\n  @Output() dragOver = new EventEmitter<DropData>();\n\n  /**\n   * Called when a draggable element is dropped on this element\n   */\n  @Output() drop = new EventEmitter<DropData>();\n\n  currentDragSubscription: Subscription;\n\n  constructor(\n    private element: ElementRef,\n    private draggableHelper: DraggableHelper,\n    private zone: NgZone\n  ) {}\n\n  ngOnInit(): void {\n    interface CurrentDragData {\n      clientX: number;\n      clientY: number;\n      dropData: any;\n    }\n\n    this.currentDragSubscription = this.draggableHelper.currentDrag.subscribe(\n      (drag: Subject<CurrentDragData>) => {\n        const droppableRectangle: ClientRect = this.element.nativeElement.getBoundingClientRect();\n\n        let currentDragDropData: any;\n        const overlaps = drag.pipe(\n          map(({ clientX, clientY, dropData }) => {\n            currentDragDropData = dropData;\n            return isCoordinateWithinRectangle(\n              clientX,\n              clientY,\n              droppableRectangle\n            );\n          })\n        );\n\n        const overlapsChanged = overlaps.pipe(distinctUntilChanged());\n\n        let dragOverActive: boolean; // TODO - see if there's a way of doing this via rxjs\n\n        overlapsChanged\n          .pipe(filter(overlapsNow => overlapsNow))\n          .subscribe(() => {\n            dragOverActive = true;\n            this.zone.run(() => {\n              this.dragEnter.next({\n                dropData: currentDragDropData\n              });\n            });\n          });\n\n        overlaps.pipe(filter(overlapsNow => overlapsNow)).subscribe(() => {\n          this.zone.run(() => {\n            this.dragOver.next({\n              dropData: currentDragDropData\n            });\n          });\n        });\n\n        overlapsChanged\n          .pipe(pairwise())\n          .pipe(\n            filter(([didOverlap, overlapsNow]) => didOverlap && !overlapsNow)\n          )\n          .subscribe(() => {\n            dragOverActive = false;\n            this.zone.run(() => {\n              this.dragLeave.next({\n                dropData: currentDragDropData\n              });\n            });\n          });\n\n        drag.pipe(mergeMap(() => overlaps)).subscribe({\n          complete: () => {\n            if (dragOverActive) {\n              this.zone.run(() => {\n                this.drop.next({\n                  dropData: currentDragDropData\n                });\n              });\n            }\n          }\n        });\n      }\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.currentDragSubscription.unsubscribe();\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { DraggableDirective } from './draggable.directive';\nimport { DroppableDirective } from './droppable.directive';\nimport { DraggableHelper } from './draggable-helper.provider';\n\n@NgModule({\n  declarations: [DraggableDirective, DroppableDirective],\n  exports: [DraggableDirective, DroppableDirective]\n})\nexport class DragAndDropModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: DragAndDropModule,\n      providers: [DraggableHelper]\n    };\n  }\n}\n"],"names":["Subject","EventEmitter","filter","mergeMap","map","takeUntil","merge","share","take","takeLast","pairwise","Directive","ElementRef","Renderer2","NgZone","Input","Output","distinctUntilChanged","NgModule"],"mappings":"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"}
