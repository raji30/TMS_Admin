!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("brace"),require("brace/theme/monokai"),require("@angular/forms")):"function"==typeof define&&define.amd?define(["exports","@angular/core","brace","brace/theme/monokai","@angular/forms"],e):e(((t=t||self).ng=t.ng||{},t.ng.ng2aceeditor={}),t.ng.core,null,null,t.ng.forms)}(this,function(t,i,e,n,o){"use strict";var r=function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;0<=p;p--)(i=t[p])&&(s=(r<3?i(s):3<r?i(e,n,s):i(e,n))||s);return 3<r&&s&&Object.defineProperty(e,n,s),s},s=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e){var n=this;this.zone=e,this.textChanged=new i.EventEmitter,this.textChange=new i.EventEmitter,this._options={},this._readOnly=!1,this._theme="monokai",this._mode="html",this._autoUpdateContent=!0,this._durationBeforeCallback=0,this._text="";var o=t.nativeElement;this.zone.runOutsideAngular(function(){n.editor=ace.edit(o)}),this.editor.$blockScrolling=1/0}return t.prototype.ngOnInit=function(){this.init(),this.initEvents()},t.prototype.ngOnDestroy=function(){this.editor.destroy()},t.prototype.init=function(){this.editor.setOptions(this._options||{}),this.editor.setTheme("ace/theme/"+this._theme),this.setMode(this._mode),this.editor.setReadOnly(this._readOnly)},t.prototype.initEvents=function(){var t=this;this.editor.on("change",function(){return t.updateText()}),this.editor.on("paste",function(){return t.updateText()})},t.prototype.updateText=function(){var t=this,e=this.editor.getValue();e!==this.oldText&&(this._durationBeforeCallback?(null!=this.timeoutSaving&&clearTimeout(this.timeoutSaving),this.timeoutSaving=setTimeout(function(){t._text=e,t.zone.run(function(){t.textChange.emit(e),t.textChanged.emit(e)}),t.timeoutSaving=null},this._durationBeforeCallback)):(this._text=e,this.zone.run(function(){t.textChange.emit(e),t.textChanged.emit(e)})),this.oldText=e)},Object.defineProperty(t.prototype,"options",{set:function(t){this._options=t,this.editor.setOptions(t||{})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{set:function(t){this._readOnly=t,this.editor.setReadOnly(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"theme",{set:function(t){this._theme=t,this.editor.setTheme("ace/theme/"+t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{set:function(t){this.setMode(t)},enumerable:!0,configurable:!0}),t.prototype.setMode=function(t){this._mode=t,"object"==typeof this._mode?this.editor.getSession().setMode(this._mode):this.editor.getSession().setMode("ace/mode/"+this._mode)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){this.setText(t)},enumerable:!0,configurable:!0}),t.prototype.setText=function(t){this._text!==t&&(null==t&&(t=""),!0===this._autoUpdateContent&&(this._text=t,this.editor.setValue(t),this.editor.clearSelection()))},Object.defineProperty(t.prototype,"autoUpdateContent",{set:function(t){this._autoUpdateContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationBeforeCallback",{set:function(t){this.setDurationBeforeCallback(t)},enumerable:!0,configurable:!0}),t.prototype.setDurationBeforeCallback=function(t){this._durationBeforeCallback=t},Object.defineProperty(t.prototype,"aceEditor",{get:function(){return this.editor},enumerable:!0,configurable:!0}),r([i.Output(),s("design:type",Object)],t.prototype,"textChanged",void 0),r([i.Output(),s("design:type",Object)],t.prototype,"textChange",void 0),r([i.Input(),s("design:type",Object),s("design:paramtypes",[Object])],t.prototype,"options",null),r([i.Input(),s("design:type",Object),s("design:paramtypes",[Object])],t.prototype,"readOnly",null),r([i.Input(),s("design:type",Object),s("design:paramtypes",[Object])],t.prototype,"theme",null),r([i.Input(),s("design:type",Object),s("design:paramtypes",[Object])],t.prototype,"mode",null),r([i.Input(),s("design:type",String),s("design:paramtypes",[String])],t.prototype,"text",null),r([i.Input(),s("design:type",Object),s("design:paramtypes",[Object])],t.prototype,"autoUpdateContent",null),r([i.Input(),s("design:type",Number),s("design:paramtypes",[Number])],t.prototype,"durationBeforeCallback",null),t=r([i.Directive({selector:"[ace-editor]"}),s("design:paramtypes",[i.ElementRef,i.NgZone])],t)}(),a=function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;0<=p;p--)(i=t[p])&&(s=(r<3?i(s):3<r?i(e,n,s):i(e,n))||s);return 3<r&&s&&Object.defineProperty(e,n,s),s},u=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){var n=this;this.zone=e,this.textChanged=new i.EventEmitter,this.textChange=new i.EventEmitter,this.style={},this._options={},this._readOnly=!1,this._theme="monokai",this._mode="html",this._autoUpdateContent=!0,this._durationBeforeCallback=0,this._text="",this._onChange=function(t){},this._onTouched=function(){};var o=t.nativeElement;this.zone.runOutsideAngular(function(){n._editor=ace.edit(o)}),this._editor.$blockScrolling=1/0}var e;return(e=t).prototype.ngOnInit=function(){this.init(),this.initEvents()},t.prototype.ngOnDestroy=function(){this._editor.destroy()},t.prototype.init=function(){this.setOptions(this._options||{}),this.setTheme(this._theme),this.setMode(this._mode),this.setReadOnly(this._readOnly)},t.prototype.initEvents=function(){var t=this;this._editor.on("change",function(){return t.updateText()}),this._editor.on("paste",function(){return t.updateText()})},t.prototype.updateText=function(){var t=this,e=this._editor.getValue();e!==this.oldText&&(this._durationBeforeCallback?(this.timeoutSaving&&clearTimeout(this.timeoutSaving),this.timeoutSaving=setTimeout(function(){t._text=e,t.zone.run(function(){t.textChange.emit(e),t.textChanged.emit(e)}),t.timeoutSaving=null},this._durationBeforeCallback)):(this._text=e,this.zone.run(function(){t.textChange.emit(e),t.textChanged.emit(e)}),this._onChange(e)),this.oldText=e)},Object.defineProperty(t.prototype,"options",{set:function(t){this.setOptions(t)},enumerable:!0,configurable:!0}),t.prototype.setOptions=function(t){this._options=t,this._editor.setOptions(t||{})},Object.defineProperty(t.prototype,"readOnly",{set:function(t){this.setReadOnly(t)},enumerable:!0,configurable:!0}),t.prototype.setReadOnly=function(t){this._readOnly=t,this._editor.setReadOnly(t)},Object.defineProperty(t.prototype,"theme",{set:function(t){this.setTheme(t)},enumerable:!0,configurable:!0}),t.prototype.setTheme=function(t){this._theme=t,this._editor.setTheme("ace/theme/"+t)},Object.defineProperty(t.prototype,"mode",{set:function(t){this.setMode(t)},enumerable:!0,configurable:!0}),t.prototype.setMode=function(t){this._mode=t,"object"==typeof this._mode?this._editor.getSession().setMode(this._mode):this._editor.getSession().setMode("ace/mode/"+this._mode)},Object.defineProperty(t.prototype,"value",{get:function(){return this.text},set:function(t){this.setText(t)},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.setText(t)},t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){this.setText(t)},enumerable:!0,configurable:!0}),t.prototype.setText=function(t){null==t&&(t=""),this._text!==t&&!0===this._autoUpdateContent&&(this._text=t,this._editor.setValue(t),this._onChange(t),this._editor.clearSelection())},Object.defineProperty(t.prototype,"autoUpdateContent",{set:function(t){this.setAutoUpdateContent(t)},enumerable:!0,configurable:!0}),t.prototype.setAutoUpdateContent=function(t){this._autoUpdateContent=t},Object.defineProperty(t.prototype,"durationBeforeCallback",{set:function(t){this.setDurationBeforeCallback(t)},enumerable:!0,configurable:!0}),t.prototype.setDurationBeforeCallback=function(t){this._durationBeforeCallback=t},t.prototype.getEditor=function(){return this._editor},a([i.Output(),u("design:type",Object)],t.prototype,"textChanged",void 0),a([i.Output(),u("design:type",Object)],t.prototype,"textChange",void 0),a([i.Input(),u("design:type",Object)],t.prototype,"style",void 0),a([i.Input(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"options",null),a([i.Input(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"readOnly",null),a([i.Input(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"theme",null),a([i.Input(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"mode",null),a([i.Input(),u("design:type",String),u("design:paramtypes",[String])],t.prototype,"value",null),a([i.Input(),u("design:type",String),u("design:paramtypes",[String])],t.prototype,"text",null),a([i.Input(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"autoUpdateContent",null),a([i.Input(),u("design:type",Number),u("design:paramtypes",[Number])],t.prototype,"durationBeforeCallback",null),t=e=a([i.Component({selector:"ace-editor",template:"",styles:[":host { display:block;width:100%; }"],providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return e}),multi:!0}]}),u("design:paramtypes",[i.ElementRef,i.NgZone])],t)}(),d=function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;0<=p;p--)(i=t[p])&&(s=(r<3?i(s):3<r?i(e,n,s):i(e,n))||s);return 3<r&&s&&Object.defineProperty(e,n,s),s},l=[c,p],h=function(){function t(){}return t=d([i.NgModule({declarations:l.slice(),imports:[],providers:[],exports:l})],t)}();t.AceEditorDirective=p,t.AceEditorComponent=c,t.AceEditorModule=h,Object.defineProperty(t,"__esModule",{value:!0})});